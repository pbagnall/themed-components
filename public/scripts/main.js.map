{"version":3,"file":"main.js","sources":["../../src/utils.js","../../components/Label.js","../../components/Breadcrumbs.js","../../components/Resizable.js"],"sourcesContent":["export function createElement(tag, klass, text, attrs) {\n   const elem = document.createElement(tag);\n   if (klass) elem.className = klass;\n   if (text) elem.appendChild(document.createTextNode(text));\n   if (attrs) {\n      for (let [key, value] of Object.entries(attrs)) {\n         elem.setAttribute(key, value);\n      }\n   }\n\n   return elem;\n}","// Label API\n// <ul-label>Label</ul-label>\n//\n// dismisssable: adding this attribute adds the dismiss control to the label, which fire an event when clicked.\n// The value of this attribute is ignored, it's simple a flag.\n// <ul-label dismissable>Label</ul-label>\n//\n// Icon: adds an icon before the text in the Label.\n// Permitted values are the names of icons in the Material Icon font.\n// <ul-label icon='cog'>Label</ul-label>\n//\n// Sets the size of the label. Valid sizes are [large, medium, small]\n// <ul-label size=''>Label</ul-label>\n\nimport { createElement as ce } from '../src/utils.js';\n\nlet labelStyleTemplate = document.createElement('template');\nlabelStyleTemplate.innerHTML = `\n   <style>\n      div.label {\n         display: flex;\n         align-items: flex-start;\n         box-sizing: border-box;\n         width: fit-content;\n\n         background-color: var(--label--background-color);\n         color: var(--label--color);\n         border: var(--label--border);\n\n         font-family: var(--label--font-family);\n         font-weight: 400;\n         border-radius: var(--label--border-radius);\n\n         margin: 0;\n\n         padding: var(--label--padding);\n         padding-top: 0;\n         padding-bottom: 0;\n         font-size: var(--label--font-size);\n         gap: var(--label--gap);\n\n         cursor: pointer;\n      }\n\n      div.text {\n         text-overflow: ellipsis;\n         overflow: hidden;\n         line-height: var(--label--height);        \n         white-space: var(--label--white-space, nowrap);\n         max-width: var(--label--max-width);\n      }\n\n      .icon, .close {\n         display: flex;\n         align-items: center;\n         flex-shrink: 0;\n         padding: 0;\n         margin: 0;\n         height: var(--label--height);\n         width: var(--label--icon-size);\n         overflow: hidden;\n\n         font-family: \"Material Symbols Outlined\";\n         font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;\n         font-size: var(--label--icon-size);\n      }\n\n      .close:hover {\n         font-variation-settings: 'FILL' 1, 'wght' 900, 'GRAD' 0, 'opsz' 24;\n      }\n</style>`;\n\nclass Label extends HTMLElement {\n   constructor() {\n      super();\n      this.attachShadow({ mode: 'open'});\n      this.shadowRoot.appendChild(labelStyleTemplate.content.cloneNode(true));\n   }\n\n   connectedCallback() {\n      this.populate();\n\n      const mutationHandler = (mutationList, observer) => { this.populate(); };\n      const observer = new MutationObserver(mutationHandler);\n      observer.observe(this, { attributes: true, childList: true, subtree: true, characterData: true });\n   }\n\n   populate() {\n      let dismissable = this.hasAttribute('dismissable');\n      let iconName = this.getAttribute('icon');\n\n      let label = this.shadowRoot.querySelector('div.label');\n      label = label ? label : ce('div','label');\n      while (label.hasChildNodes()) {\n         label.removeChild(label.firstChild);\n      }\n\n      // icon\n      if (iconName) label.appendChild(ce('div','icon', iconName));\n\n      // text\n      label.appendChild(ce('div','text',this.textContent));\n\n      // close button\n      if (dismissable) {\n         let closeButton = ce('div','close', 'close');\n         closeButton.addEventListener('click', (event) => this.click(event));\n         label.appendChild(closeButton);\n      }\n\n      this.shadowRoot.appendChild(label);\n   }\n\n   click(event) {\n      let outboundEvent = new CustomEvent(\"dismiss\", {\n         detail: {},\n         composed: true\n      });\n      this.dispatchEvent(outboundEvent);\n   }\n}\n\nwindow.addEventListener('load', () => {\n   customElements.define(\"ul-label\", Label);\n});\n","// Breadcrumbs API\n// <ul-breadcrumbs>\n// <li>Item 1</li>\n// <li>Item 2</li>\n// </ul-breadcrumbs>\n\nimport { createElement as ce } from '../src/utils.js';\n\nlet breadcrumbsStyleTemplate = document.createElement('template');\nbreadcrumbsStyleTemplate.innerHTML = `\n   <style>\n      div#root {\n         display: flex;\n         align-items: center;\n      }\n\n      span { white-space: nowrap; }\n      \n      div {\n         display: inline-block;\n         margin:0;\n         padding: 0;\n      }\n\n      .icon {\n         display: inline-block;\n         /* align-items: center; */\n         flex-shrink: 0;\n         padding: 0;\n         margin: 0;\n         height: var(--label--height);\n         width: var(--label--icon-size);\n         overflow: hidden;\n\n         font-family: \"Material Symbols Outlined\";\n         font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;\n         font-size: var(--label--icon-size);\n      }\n   </style>`;\n\nclass Breadcrumbs extends HTMLElement {\n   constructor() {\n      super();\n      this.attachShadow({ mode: 'open'});\n      this.shadowRoot.appendChild(breadcrumbsStyleTemplate.content.cloneNode(true));\n   }\n\n   connectedCallback() {\n      this.populate();\n\n      const mutationHandler = (mutationList, observer) => { this.populate(); };\n      const observer = new MutationObserver(mutationHandler);\n      observer.observe(this, { attributes: true, childList: true, subtree: true, characterData: true });\n   }\n\n   populate() {\n      console.log('populating');\n      let first = true;\n\n      for (const node of this.children) {\n\n         if (node.tagName.toLowerCase() === 'ul-breadcrumb') {\n            if (!first) {\n               this.shadowRoot.appendChild(ce('div','icon', 'chevron_right'));\n            } else {\n               first = false;\n            }\n            this.shadowRoot.appendChild(ce('div', '', node.textContent));\n         }\n      }\n\n   }\n}\n\nwindow.addEventListener('load', () => {\n   customElements.define(\"ul-breadcrumbs\", Breadcrumbs);\n});\n","// Label API\n// <ul-resizable>Content</ul-resizable>\n//\n// axes: which axes the container can be resized on. Options are hori, vert, both\n// <ul-resizable axes='hori'>\n// content\n// </ul-resizable>\n\nimport { createElement as ce, createElement } from '../src/utils.js';\n\nlet resizableStyleTemplate = document.createElement('template');\nresizableStyleTemplate.innerHTML = `\n   <style>\n      div#root {\n         border: var(--border, 1px solid black);\n         margin: var(--margin, 0);\n         width: var(--width, 100%);\n         padding: var(--padding, 0);\n\n         display: grid;\n         grid-template-columns: 1fr 5px;\n         grid-template-rows: 1fr 5px;\n         grid-template-areas: \"content hori\" \"vert both\";\n      }\n\n      slot { grid-area: content; }\n\n      #content { overflow: var(--overflow, hidden); }\n\n      #hori { grid-area: hori; background-color: #cccccc; cursor: ew-resize; }\n      #vert { grid-area: vert; background-color: #cccccc; cursor: ns-resize; }\n      #both { grid-area: both; background-color: #cccccc; cursor: nwse-resize; }\n\n      #hori:hover,\n      #vert:hover,\n      #both:hover {\n         background-color: #aaaaaa;\n      }\n\n      div#noghosts { position: absolute; left: -1000px; width: 1px; height: 1px; }\n   </style>\n   <div id='root'>\n         <div id='content'><slot></slot></div>\n         <div id='noghosts'></div>\n   </div>`;\n\nclass Resizable extends HTMLElement {\n   constructor() {\n      super();\n      this.attachShadow({ mode: 'open'});\n      this.shadowRoot.appendChild(resizableStyleTemplate.content.cloneNode(true));\n\n      this.hori = this.shadowRoot.getElementById('hori');\n   }\n\n   connectedCallback() {\n      this.populate();\n\n      const mutationHandler = (mutationList, observer) => { this.populate(); };\n      const observer = new MutationObserver(mutationHandler);\n      observer.observe(this, { attributes: true, childList: true, subtree: true, characterData: true });\n   }\n\n   populate() {\n      this.root = this.shadowRoot.getElementById('root');\n      this.cleanUp();\n\n      const axes = this.getAttribute('axes')\n\n      if (axes==='hori') {\n         this.setupResize('hori', 'x');\n         this.root.style.gridTemplateAreas = '\"content hori\"';\n         this.root.style.gridTemplateRows = \"1fr\";\n         this.root.style.gridTemplateColumns = \"1fr 5px\";\n\n      } else if (axes === 'both' ) {\n         this.setupResize('hori', 'x');\n         this.setupResize('vert', 'y');\n         this.setupBothResize();\n         this.root.style.gridTemplateAreas = '\"content hori\" \"vert both\"';\n         this.root.style.gridTemplateRows = \"1fr 5px\";\n         this.root.style.gridTemplateColumns = \"1fr 5px\";\n   \n      } else if (axes==='vert') {\n         this.setupResize('vert', 'y');\n         this.root.style.gridTemplateAreas = '\"content\" \"vert\"';\n         this.root.style.gridTemplateColumns = \"1fr\";\n         this.root.style.gridTemplateRows = \"1fr 5px\";\n\n      } else {\n         this.root.style.gridTemplateAreas = '\"content\"';\n         this.root.style.gridTemplateColumns = \"1fr\";\n         this.root.style.gridTemplateRows = \"1fr\";\n      }\n   }\n\n   cleanUp() {\n      let child = this.root.children.item(2);\n      while (child) {\n         this.root.removeChild(child);\n         child = this.root.children.item(2);\n      }\n   }\n\n   setupResize(handle, axis) {\n      this[handle] = createElement('div', null, null, { id: handle, draggable: true })\n      this.root.appendChild(this[handle]);\n      this.addDragListeners(this[handle], axis);\n   }\n\n   setupBothResize() {\n      this.both = createElement('div', null, null, { id: 'both', draggable: true })\n      this.root.appendChild(this.both);\n      this.addDragListeners(this.both, 'x');\n      this.addDragListeners(this.both, 'y');\n   }\n\n   addDragListeners(element, xOrY) {\n      const widthOrHeight = xOrY.toLowerCase() === 'x' ? 'width' : 'height'\n      const client = 'client'+xOrY.toUpperCase();\n      const starting = 'starting'+widthOrHeight;\n\n      element.addEventListener('dragstart', (event) => {\n         this[starting] = parseInt(getComputedStyle(this.root)[widthOrHeight]);\n         this[client] = event[client];\n         event.dataTransfer.setDragImage(this.shadowRoot.getElementById('noghosts'), 0, 0);\n      });\n\n      element.addEventListener('drag', (event) => {\n         this.root.style[widthOrHeight] = (this[starting] + event[client] - this[client]).toString(10)+\"px\";\n      });\n   }\n}\n\nwindow.addEventListener('load', () => {\n   customElements.define(\"ul-resizable\", Resizable);\n});\n"],"names":["createElement","tag","klass","text","attrs","elem","document","className","appendChild","createTextNode","key","value","Object","entries","setAttribute","labelStyleTemplate","innerHTML","Label","HTMLElement","constructor","super","this","attachShadow","mode","shadowRoot","content","cloneNode","connectedCallback","populate","MutationObserver","mutationList","observer","observe","attributes","childList","subtree","characterData","dismissable","hasAttribute","iconName","getAttribute","label","querySelector","ce","hasChildNodes","removeChild","firstChild","textContent","closeButton","addEventListener","event","click","outboundEvent","CustomEvent","detail","composed","dispatchEvent","window","customElements","define","breadcrumbsStyleTemplate","Breadcrumbs","console","log","first","node","children","tagName","toLowerCase","resizableStyleTemplate","Resizable","hori","getElementById","root","cleanUp","axes","setupResize","style","gridTemplateAreas","gridTemplateRows","gridTemplateColumns","setupBothResize","child","item","handle","axis","id","draggable","addDragListeners","both","element","xOrY","widthOrHeight","client","toUpperCase","starting","parseInt","getComputedStyle","dataTransfer","setDragImage","toString"],"mappings":"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"}